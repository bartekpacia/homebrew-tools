# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fhomed < Formula
  desc "Background daemon for F&Home"
  homepage "https://github.com/bartekpacia/fhome"
  version "0.2.8"
  license "MIT"

  on_macos do
    on_intel do
      url "https://github.com/bartekpacia/fhome/releases/download/v0.2.8/fhomed_0.2.8_darwin_amd64.tar.gz"
      sha256 "9fd2af920bdeec8299335dc305c72a30d78703c3d5356b5ac2f98c03eb2ed5b8"

      def install
        man_content = `./fhomed docs --format man-with-section`
        File.write("fhomed.1", man_content)

        bin.install "fhomed"
        generate_completions_from_executable(bin/"fhomed", "completion")

        man1.install "fhomed.1"
      end
    end
    on_arm do
      url "https://github.com/bartekpacia/fhome/releases/download/v0.2.8/fhomed_0.2.8_darwin_arm64.tar.gz"
      sha256 "9aba004d6eba77ee6554d946ec51f94ee25c5e8cb9653d869059ba1438d3d505"

      def install
        man_content = `./fhomed docs --format man-with-section`
        File.write("fhomed.1", man_content)

        bin.install "fhomed"
        generate_completions_from_executable(bin/"fhomed", "completion")

        man1.install "fhomed.1"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/bartekpacia/fhome/releases/download/v0.2.8/fhomed_0.2.8_linux_amd64.tar.gz"
        sha256 "b7c495d3d7e3bcc42767dc99046c01375c90271ed8c36072252425d4f18d7336"

        def install
          man_content = `./fhomed docs --format man-with-section`
          File.write("fhomed.1", man_content)

          bin.install "fhomed"
          generate_completions_from_executable(bin/"fhomed", "completion")

          man1.install "fhomed.1"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/bartekpacia/fhome/releases/download/v0.2.8/fhomed_0.2.8_linux_arm64.tar.gz"
        sha256 "86459484d19f7726dae6fab80804e1a8f87cf72aa7cdd87ca738bd96fcea32b8"

        def install
          man_content = `./fhomed docs --format man-with-section`
          File.write("fhomed.1", man_content)

          bin.install "fhomed"
          generate_completions_from_executable(bin/"fhomed", "completion")

          man1.install "fhomed.1"
        end
      end
    end
  end
end
